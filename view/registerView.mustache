<!-- Page content -->
    <div class="w3-content" style="max-width:2000px;margin-top:46px">
        <main class="py-5">
    <script src = "http://maps.googleapis.com/maps/api/js?key=AIzaSyAiq3xISXSZYgkd9GDAOdajy4NK2d3L7dY&loading=async&callback=loadMap" async defer onerror="alert('asdasd')"></script>
            <div class="content container px-lg-5 p-4 bg-light rounded-3">
                <h2 class="text-center display-3 fw-bold">Registro de Usuario</h2>
                <br>
                <form action="/register/register" method="post" enctype="multipart/form-data" class="row g-3">
                    <div class="col-md-6">
                        <div class="col-md-12">
                            <label for="fullname" class="form-label">Nombre Completo:</label>
                            <input id="fullname" type="text" name="fullname" class="form-control" required placeholder="Ingrese su nombre completo">
                        </div>

                        <div class="col-md-12">
                            <label for="birth_year" class="form-label">Año de Nacimiento:</label>
                            <input id="birth_year" type="number" name="birth_year" class="form-control" required placeholder="Ingrese su año de nacimiento">
                        </div>

                <div class="col-md-12">
                    <label for="gender" class="form-label">Género:</label>
                    <select id="gender" name="gender" class="form-control" required>
                        <option value="Masculino">Masculino</option>
                        <option value="Femenino">Femenino</option>
                        <option value="Otro">Otro</option>
                    </select>
                </div>

                <div class="col-md-12">
                    <label for="country" class="form-label">País:</label>
                    <select id="country" name="country" class="form-control" required>
                        <option value="Argentina">Argentina</option>
                        <option value="Bolivia">Bolivia</option>
                        <option value="Brazil">Brasil</option>
                        <option value="Chile">Chile</option>
                        <option value="Colombia">Colombia</option>
                        <option value="Ecuador">Ecuador</option>
                        <option value="Guyana">Guyana</option>
                        <option value="Paraguay">Paraguay</option>
                        <option value="Peru">Perú</option>
                        <option value="Uruguay">Uruguay</option>
                        <option value="Venezuela">Venezuela</option>
                    </select>
                </div>

                <div class="col-md-12">
                    <label class="form-label">Ubicación:</label>
                    <input type="hidden" id="latitude" name="latitude">
                    <input type="hidden" id="longitude" name="longitude">
                    <div id="map" style="height: 400px; width: 100%; border: 1px solid #000;"></div>
                    <small id="input-coordinates"></small>
                </div>
                
                <div class="col-md-12">
                    <label for="email" class="form-label">Correo Electrónico:</label>
                    <input id="email" type="email" name="email" class="form-control" required placeholder="Ingrese su correo electrónico">
                </div>

                        <div class="col-md-12">
                            <label for="password" class="form-label">Contraseña:</label>
                            <input id="password" type="password" name="password" class="form-control" required placeholder="Ingrese una contraseña">
                        </div>

                        <div class="col-md-12">
                            <label for="confirm_password" class="form-label">Confirmar Contraseña:</label>
                            <input id="confirm_password" type="password" name="confirm_password" class="form-control" required placeholder="Confirme la contraseña">
                        </div>

                        <div class="col-md-12">
                            <label for="username" class="form-label">Nombre de Usuario:</label>
                            <input id="username" type="text" name="username" class="form-control" required placeholder="Ingrese un nombre de usuario" value="{{username}}">
                        </div>

                        <div class="col-md-12">
                            <label for="profile_picture" class="form-label">Imagen de Perfil:</label>
                            <input id="profile_picture" type="file" name="profile_picture" class="form-control" accept="image/*">
                        </div>
                    </div>
                    <div class="col-12">
                        <br>
                        <div class="d-flex justify-content-center">
                            <input type="submit" value="Registrar" class="btn btn-primary btn-lg">
                        </div>
                    </div>
                    {{#showMessage}}
                        <div>
                            <h4>{{message}}</h4>
                        </div>
                    {{/showMessage}}
                </form>
            </div>            <script>
        function loadMap() {

            var inputCoordinates = document.getElementById('input-coordinates');
            var mapOptions = {
                center:new google.maps.LatLng(-34.6686986,-58.5614947),
                zoom:12,
                panControl: false,
                zoomControl: false,
                scaleControl: false,
                mapTypeControl:false,
                streetViewControl:true,
                overviewMapControl:true,
                rotateControl:true,
                mapTypeId:google.maps.MapTypeId.ROADMAP
            };

            var map = new google.maps.Map(document.getElementById('map'),mapOptions);

            var marker = new google.maps.Marker({
                position: map.getCenter(),
                map: map,
                draggable:true
            });

            document.getElementById('latitude').value = marker.getPosition().lat();
            document.getElementById('longitude').value = marker.getPosition().lng();

            google.maps.event.addListener(marker, "drag", function (event) { 
                document.getElementById('latitude').value = marker.getPosition().lat();
                document.getElementById('longitude').value = marker.getPosition().lng();
                inputCoordinates.innerText = 'Latitud: ' + marker.getPosition().lat() + ', Longitud: ' + marker.getPosition().lng();
            });
        }
    </script>
</main>

    </div>
</body>